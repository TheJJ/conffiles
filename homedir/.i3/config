# i3 config file (v4)
#
# JJ's i3 config
# Copyright (c) 2011-2017 Jonas Jelten <jj@sft.mx>
#
# Mod1: meta Mod4: super
set $mod Mod4

# font for window titles. ISO 10646 = Unicode
font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1

# start a terminal
bindsym $mod+Return exec --no-startup-id urxvt

# start something in PATH
bindsym $mod+d exec rofi -show run
# run .desktop files
bindsym $mod+shift+d exec rofi -show drun

bindcode 107 exec ~/bin/screenshot
bindcode shift+107 exec ~/bin/screenshot s

#in /etc/local.d/50-setkeycodes.start:
# setkeycodes 67 162
# setkeycodes 6c 161
#remapped by X to: 170 and 169 or now 162 and 161
bindcode 162 exec sleep 0.3 && ~/bin/rscreen
bindcode 161 exec sleep 0.3 && ~/bin/rscreen portrait

#bindcode 199 exec ~/bin/touchpad

#audio stuff
bindcode 121 exec amixer set Master toggle > /dev/null
bindcode 198 exec amixer set Capture toggle > /dev/null
bindcode shift+122 exec amixer set Capture 5%- > /dev/null
bindcode shift+123 exec amixer set Capture 5%+ > /dev/null
bindcode 122 exec amixer set Master 5%- > /dev/null
bindcode 123 exec amixer set Master 5%+ > /dev/null
bindcode control+122 exec amixer set Master 15%- > /dev/null
bindcode control+123 exec amixer set Master 15%+ > /dev/null


bindcode 232 exec xbacklight -dec 10
bindcode 233 exec xbacklight -inc 10
bindcode control+232 exec xbacklight -dec 5
bindcode control+233 exec xbacklight -inc 5
bindcode control+shift+232 exec xbacklight -dec 1
bindcode control+shift+233 exec xbacklight -inc 1

#bindcode 248 exec amixer set Capture toggle

bindcode 124 exec ~/bin/i3lockjj && ~/bin/suspend-jj
bindcode 160 exec ~/bin/i3lockjj

bindcode 150 exec dpms off


#dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop
#dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Restart
#dbus-send --system --print-reply --dest="org.freedesktop.UPower" /org/freedesktop/UPower org.freedesktop.UPower.Suspend


#for_window [class="urxvt"] border 1pixel

#for_window [class="firefox"] border none
#for_window [class="Steam"] floating enable

################################################################

floating_modifier $mod


bindsym $mod+Shift+Q kill
bindsym mod1+F4 kill

# jump to latest urgent window
bindsym $mod+x [urgent=latest] focus

# invert colors
bindsym $mod+Shift+i exec xcalib -invert -alter

bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+J move left
bindsym $mod+Shift+K move down
bindsym $mod+Shift+L move up
bindsym $mod+Shift+colon move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+Shift+greater move workspace to output right
bindsym $mod+Shift+less move workspace to output left

bindsym $mod+h split h

bindsym $mod+v split v

bindsym $mod+f fullscreen
bindsym $mod+Shift+f fullscreen global

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent

bindsym $mod+Shift+a focus child

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10
bindsym $mod+F1 workspace F1
bindsym $mod+F2 workspace F2
bindsym $mod+F3 workspace F3
bindsym $mod+F4 workspace F4
bindsym $mod+F5 workspace F5
bindsym $mod+F6 workspace F6
bindsym $mod+F7 workspace F7
bindsym $mod+F8 workspace F8
bindsym $mod+F9 workspace F9
bindsym $mod+F10 workspace F10
bindsym $mod+F11 workspace F11
bindsym $mod+F12 workspace F12

bindsym $mod+Shift+exclam move workspace 1
bindsym $mod+Shift+at move workspace 2
bindsym $mod+Shift+numbersign move workspace 3
bindsym $mod+Shift+dollar move workspace 4
bindsym $mod+Shift+percent move workspace 5
bindsym $mod+Shift+asciicircum move workspace 6
bindsym $mod+Shift+ampersand move workspace 7
bindsym $mod+Shift+asterisk move workspace 8
bindsym $mod+Shift+parenleft move workspace 9
bindsym $mod+Shift+parenright move workspace 10
bindsym $mod+Shift+F1 move workspace F1
bindsym $mod+Shift+F2 move workspace F2
bindsym $mod+Shift+F3 move workspace F3
bindsym $mod+Shift+F4 move workspace F4
bindsym $mod+Shift+F5 move workspace F5
bindsym $mod+Shift+F6 move workspace F6
bindsym $mod+Shift+F7 move workspace F7
bindsym $mod+Shift+F8 move workspace F8
bindsym $mod+Shift+F9 move workspace F9
bindsym $mod+Shift+F10 move workspace F10
bindsym $mod+Shift+F11 move workspace F11
bindsym $mod+Shift+F12 move workspace F12

bindsym $mod+Shift+C reload
bindsym $mod+Shift+R restart
bindsym $mod+Shift+E exit

mode "resize" {
	bindsym j resize shrink left 10 px or 10 ppt
	bindsym Shift+J resize grow   left 10 px or 10 ppt

	bindsym k resize shrink down 10 px or 10 ppt
	bindsym Shift+K resize grow   down 10 px or 10 ppt

	bindsym l resize shrink up 10 px or 10 ppt
	bindsym Shift+L resize grow   up 10 px or 10 ppt

	bindsym semicolon resize shrink right 10 px or 10 ppt
	bindsym Shift+colon resize grow   right 10 px or 10 ppt

	bindsym Left resize shrink left 10 px or 10 ppt
	bindsym Shift+Left resize grow   left 10 px or 10 ppt

	bindsym Down resize shrink down 10 px or 10 ppt
	bindsym Shift+Down resize grow   down 10 px or 10 ppt

	bindsym Up resize shrink up 10 px or 10 ppt
	bindsym Shift+Up resize grow   up 10 px or 10 ppt

	bindsym Right resize shrink right 10 px or 10 ppt
	bindsym Shift+Right resize grow   right 10 px or 10 ppt

	bindsym Return mode "default"
	bindsym Escape mode "default"
}

bindsym $mod+i mode "resize"


#0. bar, multiple bars possible
bar {
	status_command i3status
	# position of bar: top or bottom
	position top
	# hide or dock the statusbar
	mode dock

	# or none
	tray_output LVDS-1

	# font xcorefontname
	# or no # show the numbered workspace buttons
	workspace_buttons yes
	colors {
		background #000000
		statusline #ffdddd
		separator #666666

		focused_workspace  #000000 #11AA00 #000000
		active_workspace   #ffffff #444444 #ccccff
		inactive_workspace #888888 #222222 #999999
		urgent_workspace   #ffffff #FF2211 #000000
		binding_mode       #ffffff #FF2211 #000000
	}
}

# colorclass border background text indicator child_border
client.focused          #5a5b99 #111177 #ffffff #2e9ef4 #285577
client.focused_inactive #333333 #5f676a #ffffff #484e50 #5f676a
client.unfocused        #333333 #222222 #888888 #292d2e #222222
client.urgent           #2f343a #900000 #ffffff #900000 #900000
client.placeholder      #000000 #0c0c0c #ffffff #000000 #0c0c0c
client.background       #000000


######################
# startup things
######################

# us international
#caps:none altwin:meta_alt lv3:rals_switch
exec setxkbmap us altgr-intl -option ctrl:nocaps
# xmodmap -e "keycode 166 = Home"
# xmodmap -e "keycode 167 = End"
exec xset -b
exec xset r rate 170 55

exec xsetroot -solid black
